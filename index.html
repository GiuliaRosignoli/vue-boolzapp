<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--Vue js - script-->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
    <!--/ Vue js - script-->

    <!--STYLE SECTION-->
    <!--Fonts-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&display=swap" rel="stylesheet">
    <!--/ Fonts-->
    <!--Font Awesome cdn-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <!--/ Font Awesome cdn-->
    <!--Style-->
    <link rel="stylesheet" href="./style/style.css">
    <!--/Style-->

    <title>Boolzapp</title>
</head>
<body>
    <div id="vm" class="whitebg container flex">     <!--container / id="vm" - Vue instance-->
        <aside class="whitebg side"> <!--side-->
            <div class="aside-container headcol flex">
                <img class="image top rounded scaling padd10" src="./img/avatar_io.jpg" alt="username">
                <span>Giulia</span>
                <div class="filler"></div>
                <span class="icons-container flex">
                    <a href="#"><i class="fas fa-circle-notch grey padd10"></i></a>
                    <a href="#"><i class="fas fa-comment-alt grey padd10"></i></a>
                    <a href="#"><i class="fas fa-ellipsis-v grey padd10 paddrgt"></i></a>
                </span>
            </div>  

            <div class="blue-bar flex"> <!--Blue bar -->
                <i class="fas fa-bell-slash whitebg rounded padd11"></i>
                <div class="blue-content">
                    <div class="bold">Ricevi notifiche di nuovi messaggi</div>
                    <div class="blue-link"><a href="#">Attiva notifiche desktop</a></div>
                </div>
            </div>

            <div class="aside-body"> <!--white section - search bar and profiles -->
                <div class="search">
                    <input type="text" class="searchTerm" placeholder="Cerca o inizia una nuova chat">
                    <button type="submit" class="searchButton grey"><i class="fa fa-search"></i></button>
                </div> <!--/ white section - search bar and profiles -->

               <!--Users'profiles -->
               <div class="usersprofiles flex" v-for="(element, index) in contacts" class="{active: index === userIndex}" @click="currentUser(index)"> <!--Loop using v-for-->
                    <img v-bind:src="'./img/avatar'+ element.avatar + '.jpg'" class="normalscaling rounded padd10" v-bind:alt="element.name"/> 
                   <div class="bold">{{ element.name }}</div>  
                </div> 

        </aside> <!--/ side-->
        
        <main class="content flex">
            <section class="content-header headcol flex"> <!--1st main section /header -->
                <img class="scaling rounded padd10" v-bind:src="'./img/avatar'+ contacts[userIndex].avatar + '.jpg'" v-bind:alt="contacts[userIndex].name">
                <div class="user">
                    <span class="bold">{{ contacts[userIndex].name }}</span> <!--names' dynamic index within the collection(contacts)-->
                    <div class="bold">Ultimo accesso oggi alle 10:35</div>
                </div>
                <div class="filler"></div>
                <span class="icons-container two">
                    <a href="#"><i class="fa fa-search grey padd10"></i></a>
                    <a href="#"><i class="fas fa-paperclip grey padd10"></i></a>
                    <a href="#"><i class="fas fa-ellipsis-v grey padd10 paddrgt"></i></a>
                </span>
                
            </section>  <!--/1st main section - chat body -->

            <section class="content-main flex">  <!--2nd main section /main-->
                <ul class="list flex" 
                v-for="message in contacts[userIndex].messages"
                > <!--Chats-->
                    <li class="answer bold flex"
                        v-bind:class="message.status === 'sent'? 'green-chat' : 'white-chat'"
                    >
                        <div class="first">{{message.message}}</div>
                        <div class="second-line darkergrey">{{ message.date }}</div>
                    </li>
                  
                </ul> <!--/ ul chats-->
            </section>  <!--/ 2nd main section /main--> 
        

                <!--Footer starts here - chat-->
            <section class="content-footer whitebg"> <!--3rd main section /footer-->
                <span><i class="far fa-smile darkergrey padd10"></i></span>
                <input type="text" placeholder="Scrivi un messaggio">
                <span><i id="extrapad" class="fas fa-microphone darkergrey padd10"></i></span>
            </section>  <!--/ 3rd main section /footer-->

        </main> <!--main /content-->

    </div>  <!--/ container / id="vm" - end of Vue instance-->





        <!--Script
                    JS-->
    <script src="./script/main.js"></script>
    
</body>
</html>